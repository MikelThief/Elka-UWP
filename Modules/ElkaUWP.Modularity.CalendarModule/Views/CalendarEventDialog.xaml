<ContentDialog
    x:Class="ElkaUWP.Modularity.CalendarModule.Views.CalendarEventDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ElkaUWP.Modularity.CalendarModule.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:input="using:Telerik.UI.Xaml.Controls.Input"
    xmlns:converters="using:Microsoft.Toolkit.Uwp.UI.Converters"
    xmlns:primitives="using:Telerik.UI.Xaml.Controls.Primitives"
    mc:Ignorable="d"
    x:Name="CalendarEventContentDialog"
    x:Uid="CalendarEventContentDialog"
    IsPrimaryButtonEnabled="{x:Bind ViewModel.IsPrimaryButtonEnabled}"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick"
    SecondaryButtonClick="ContentDialog_SecondaryButtonClick">

    <ContentDialog.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="ms-appx:///ElkaUWP.Infrastructure/ResourceDictionaries/Resources.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <converters:StringFormatConverter x:Key="StringFormatConverter"/>
        </ResourceDictionary>
    </ContentDialog.Resources>

    <StackPanel Orientation="Vertical" Spacing="8" MaxWidth="500" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
        <controls:HeaderedContentControl x:Name="EventDialogTitleField" x:Uid="EventDialogTitleField" HorizontalContentAlignment="Stretch">
            <TextBox Text="{x:Bind ViewModel.Title, Mode=TwoWay}" MaxLength="12"/>
        </controls:HeaderedContentControl>
        <controls:HeaderedContentControl x:Name="EventDialogTimeField" x:Uid="EventDialogTimeField" HorizontalContentAlignment="Stretch">
            <primitives:RadExpanderControl Background="Transparent">
                <primitives:RadExpanderControl.Content>
                    <TextBlock Text="{x:Bind ViewModel.TimeRange, Mode=OneWay}"/>
                </primitives:RadExpanderControl.Content>
                <primitives:RadExpanderControl.ExpandableContent>
                    <StackPanel Orientation="Vertical" Spacing="4">
                        <controls:HeaderedContentControl Name="EventDialogTimeStartField" x:Uid="EventDialogTimeStartField">
                            <StackPanel Orientation="Vertical" Spacing="5">
                                <input:RadDatePicker Value="{x:Bind ViewModel.EventStartDateTime, Mode=TwoWay}"/>
                                <input:RadTimePicker  Value="{x:Bind ViewModel.EventStartDateTime, Mode=TwoWay}"/>
                            </StackPanel>
                        </controls:HeaderedContentControl>
                        <controls:HeaderedContentControl Name="EventDialogTimeEndField" x:Uid="EventDialogTimeEndField">
                            <StackPanel Orientation="Vertical" Spacing="5">
                                <input:RadDatePicker Value="{x:Bind ViewModel.EventEndDateTime, Mode=TwoWay}" MinValue="{x:Bind ViewModel.EventStartDateTime.Value}"/>
                                <input:RadTimePicker Value="{x:Bind ViewModel.EventEndDateTime, Mode=TwoWay}"/>
                            </StackPanel>
                        </controls:HeaderedContentControl>
                    </StackPanel>
                </primitives:RadExpanderControl.ExpandableContent>
            </primitives:RadExpanderControl>
        </controls:HeaderedContentControl>
        <ComboBox x:Uid="EventDialogTypeField" x:Name="EventDialogTypeField" ItemsSource="{x:Bind ViewModel.CalendarEventTypeDictionary}" HorizontalAlignment="Stretch" DisplayMemberPath="Value" SelectedValuePath="Key" SelectedValue="{x:Bind ViewModel.SelectedCalendarEventType, Mode=TwoWay}"/>
        <ComboBox x:Uid="EventDialogRecursionField" x:Name="EventDialogRecursionField" ItemsSource="{x:Bind ViewModel.CalendarEventRecursionModeDictionary}" HorizontalAlignment="Stretch" DisplayMemberPath="Value" SelectedValuePath="Key" SelectedValue="{x:Bind ViewModel.SelectedCalendarEventRecursionMode, Mode=TwoWay}"/>
        <controls:HeaderedContentControl x:Name="EventDialogLocationField" x:Uid="EventDialogLocationField" HorizontalContentAlignment="Stretch">
            <TextBox Text="{x:Bind ViewModel.Location, Mode=TwoWay}" MaxLength="20"/>
        </controls:HeaderedContentControl>
    </StackPanel>

</ContentDialog>
